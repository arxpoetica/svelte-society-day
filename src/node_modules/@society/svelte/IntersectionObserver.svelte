<div bind:this={elem} class="observer">
	<!-- <ul class="info">
		<li>
			intersecting : {intersecting}
		</li>
	</ul> -->
	<slot {elem} {intersecting}></slot>
</div>

<script>
	let elem
	let intersecting = false

	import { onMount } from 'svelte'
	onMount(async() => {
		const observer = new IntersectionObserver((entries, observer) => {
			intersecting = entries[0].isIntersecting
		}, {
			root: null,
			rootMargin: '-101px 0px -1px 0px',
			threshold:  [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1],
		})
		observer.observe(elem)
	})
</script>

<style type="text/scss">
	.observer {
		display: flex;
		position: relative;
		width: 100%;
		height: calc(100vh - 100rem);
	}
	// ul {
	// 	position: absolute;
	// 	top: 0;
	// 	right: 0;
	// 	list-style: none;
	// 	margin: 0;
	// 	padding: 20rem;
	// 	color: white;
	// 	font: 19rem/1 monospace;
	// }
</style>
