<Sprite {img} {current} width={185} height={309}/>

<script>
	import { onMount } from 'svelte'

	import Sprite from './Sprite.svelte'

	let now = Date.now()
	var fps = 12
	let fps_interval = 1000 / fps
	let then = Date.now()
	let elapsed
	let current = 0

	let img
	onMount(() => {
		img = new Image()
		// img.onload = () => requestAnimationFrame(animate)
		img.src = '/img/sprites/man-idle.png';
	})

	function animate() {
		requestAnimationFrame(animate)
		now = Date.now()
		elapsed = now - then
		if (elapsed > fps_interval) {
			then = now - (elapsed % fps_interval)
			current = current < 11 ? current + 1 : 0
		}
	}
</script>

<!-- <style type="text/scss"></style> -->
